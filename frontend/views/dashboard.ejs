<!DOCTYPE html>
<html>
	<head>
		<meta charset="UTF-8" />
		<title>Dashboard</title>
		<link rel="stylesheet" href="/css/style.css" />
		<link
			href="https://fonts.googleapis.com/css?family=Poppins:400,600&display=swap"
			rel="stylesheet"
		/>
		<script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
		<script src="https://cdnjs.cloudflare.com/ajax/libs/moment.js/2.30.1/moment.min.js"></script>
	</head>
	<body>
		<div class="container">
			<div style="margin-bottom: 16px;">
				<label for="dropdown-bahasa">Bahasa hasil scan:</label>
				<select id="dropdown-bahasa">
					<option value="en">English</option>
					<option value="id">Bahasa Indonesia</option>
				</select>
			</div>
			<h1>Dashboard Pengujian Keamanan Web</h1>
			<form id="scan-form" action="/test/scan-all" method="POST">
				<label for="url">Target URL:</label>
				<input
					type="text"
					name="url"
					id="url"
					required
					placeholder="http://localhost"
				/>
				<br />
				<label>
					<input type="checkbox" id="enable-dos" name="dos_enabled" />
					Aktifkan DoS Attack
				</label>
				<div id="dos-options" style="display: none; margin-top: 10px">
					<label for="dos_method">Metode DoS:</label>
					<select name="dos_method" id="dos_method">
						<option value="slowloris">Slowloris (Slow Headers)</option>
						<option value="slowread">Slow Read</option>
						<option value="rudy">RUDY (Slow POST)</option>
						<option value="slowpost">Slow POST</option>
					</select>
					<small>Pilih teknik serangan DoS yang akan digunakan.</small>
					<br />

					<label for="requests_num">Jumlah Request:</label>
					<input type="number" name="requests_num" id="requests_num" />
					<small>Banyaknya request yang akan dikirim ke server.</small>
					<br />

					<label for="duration">Durasi (detik):</label>
					<input type="number" name="duration" id="duration" />
					<small>Lama waktu pengujian DoS dalam detik.</small>
					<br />

					<label for="connections_per_page">Jumlah Koneksi per Page:</label>
					<input
						type="number"
						name="connections_per_page"
						id="connections_per_page"
						value="100"
					/>
					<small>Jumlah koneksi simultan ke server.</small>
					<br />

					<label for="packet_size">Ukuran Paket (bytes):</label>
					<input type="number" name="packet_size" id="packet_size" />
					<button type="button" id="auto-packet-size">Auto</button>
					<small>
						Klik "Auto" untuk mengisi otomatis berdasarkan ukuran halaman
						target.
					</small>
					<br />

					<label for="cookie_header">Header Cookie (Opsional):</label>
					<input type="text" name="cookie_header" id="cookie_header" />
					<small>Isi jika aplikasi butuh autentikasi/session.</small>
					<br />

					<label>
						<input type="checkbox" id="stop-on-down" name="stop_on_down" />
						Stop on Down
					</label>
					<small>Berhenti otomatis jika server terdeteksi down.</small>
					<br />
				</div>
				<button type="submit">Mulai Pengujian</button>
			</form>
			<div id="progress-container">
				<div id="progress-bar">0%</div>
			</div>
			<div
				id="progress-status"
				style="margin-top: 8px; color: #555; font-size: 1em"
			></div>
			<div id="scan-result"></div>
			<div id="dos-graph" style="max-width: 800px; margin: 0 auto">
				<canvas id="dosChart" style="height: 350px; max-width: 100%"></canvas>
			</div>
		</div>
		<div id="translate-overlay">
			<div>
				<span>Menerjemahkan...</span>
			</div>
		</div>
		<script src="/js/dashboard.js"></script>
	</body>
</html>
